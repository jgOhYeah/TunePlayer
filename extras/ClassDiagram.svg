<svg id="mermaid-1623676070578" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="547" style="max-width: 1251.796875px;" viewBox="-20 -20 1251.796875 547"><style>#mermaid-1623676070578{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1623676070578 .error-icon{fill:#552222;}#mermaid-1623676070578 .error-text{fill:#552222;stroke:#552222;}#mermaid-1623676070578 .edge-thickness-normal{stroke-width:2px;}#mermaid-1623676070578 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1623676070578 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1623676070578 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1623676070578 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1623676070578 .marker{fill:#333333;stroke:#333333;}#mermaid-1623676070578 .marker.cross{stroke:#333333;}#mermaid-1623676070578 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1623676070578 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-1623676070578 g.classGroup text .title{font-weight:bolder;}#mermaid-1623676070578 .classTitle{font-weight:bolder;}#mermaid-1623676070578 .node rect,#mermaid-1623676070578 .node circle,#mermaid-1623676070578 .node ellipse,#mermaid-1623676070578 .node polygon,#mermaid-1623676070578 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1623676070578 .divider{stroke:#9370DB;stroke:1;}#mermaid-1623676070578 g.clickable{cursor:pointer;}#mermaid-1623676070578 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1623676070578 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1623676070578 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1623676070578 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1623676070578 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1623676070578 .dashed-line{stroke-dasharray:3;}#mermaid-1623676070578 #compositionStart,#mermaid-1623676070578 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #compositionEnd,#mermaid-1623676070578 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #dependencyStart,#mermaid-1623676070578 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #dependencyStart,#mermaid-1623676070578 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #extensionStart,#mermaid-1623676070578 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #extensionEnd,#mermaid-1623676070578 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #aggregationStart,#mermaid-1623676070578 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 #aggregationEnd,#mermaid-1623676070578 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1623676070578 .edgeTerminals{font-size:11px;}#mermaid-1623676070578:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g id="classid-BaseTuneLoader-0" class="classGroup" transform="translate(118.2109375,290 )"><rect x="0" y="0" width="192.296875" height="57" class=" "></rect><text y="15" x="0"><tspan x="72.453125">«abstract»</tspan><tspan class="title" dy="10" x="57.5546875">BaseTuneLoader</tspan></text><line x1="0" y1="31" y2="31" x2="192.296875"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="192.296875"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5" style="font-style:italic;">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-FlashTuneLoader-1" class="classGroup" transform="translate(0,429.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="54.5859375">FlashTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setTune(uint16_t *tune)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-EEPROMTuneLoader-2" class="classGroup" transform="translate(239.359375,429.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="47.8359375">EEPROMTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setStart(uint16_t start)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-SoundGenerator-3" class="classGroup" transform="translate(650.40625,285 )"><rect x="0" y="0" width="293.375" height="67" class=" "></rect><text y="15" x="0"><tspan x="124.9765625">«absract»</tspan><tspan class="title" dy="10" x="108.4765625">SoundGenerator</tspan></text><line x1="0" y1="31" y2="31" x2="293.375"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="293.375"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan></text></g><g id="classid-ToneSound-4" class="classGroup" transform="translate(478.71875,414 )"><rect x="0" y="0" width="293.375" height="88" class=" "></rect><text y="15" x="0"><tspan class="title" x="121.3203125">ToneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">-m_pin</tspan></text><line x1="0" y1="37" y2="37" x2="293.375"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+ToneSound(uint8_t pin)</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_frequency(uint8_t note, uint8_t octave) : uint16_t</tspan></text></g><g id="classid-TimerOneSound-5" class="classGroup" transform="translate(822.09375,409 )"><rect x="0" y="0" width="293.375" height="98" class=" "></rect><text y="15" x="0"><tspan class="title" x="109.3828125">TimerOneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">uint8_t dutyCycle</tspan></text><line x1="0" y1="37" y2="37" x2="293.375"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t note)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_counterTop(uint8_t note, uint8_t octave) : uint16_t</tspan><tspan x="5" dy="10">-m_compareValue(uint16_t counter) : uint16_t</tspan></text></g><g id="classid-TunePlayer-6" class="classGroup" transform="translate(721.73046875,0 )"><rect x="0" y="0" width="376.125" height="228" class=" "></rect><text y="15" x="0"><tspan class="title" x="161.5546875">TunePlayer</tspan></text><line x1="0" y1="21" y2="21" x2="376.125"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">+BaseTuneLoader tuneLoader</tspan><tspan x="5" dy="10">+SoundGenerator soundGenerator</tspan><tspan x="5" dy="10">+bool isPlaying</tspan><tspan x="5" dy="10">-Queue&lt;_NoteData&gt; m_notesQueue</tspan><tspan x="5" dy="10">-Queue&lt;uint16_t&gt; m_repeatsStack</tspan><tspan x="5" dy="10">-uint16_t m_noteAddress</tspan><tspan x="5" dy="10">-uint16_t m_timebase</tspan><tspan x="5" dy="10">-uint16_t m_nextNoteTime</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStart</tspan><tspan x="5" dy="10">-uint16_t m_curNoteStop</tspan></text><line x1="0" y1="127" y2="127" x2="376.125"></line><text x="5" y="142" fill="white" class="classText"><tspan x="5">+TunePlayer()</tspan><tspan x="5" dy="10">+begin(BaseTuneLoader *newTuneSource, SoundGenerator *newSoundGenerator)</tspan><tspan x="5" dy="10">+begin()</tspan><tspan x="5" dy="10">+spool()</tspan><tspan x="5" dy="10">+play()</tspan><tspan x="5" dy="10">+pause()</tspan><tspan x="5" dy="10">+stop()</tspan><tspan x="5" dy="10">+update()</tspan><tspan x="5" dy="10">-m_makeNoise()</tspan></text></g><g id="classid-cppQueue-7" class="classGroup" transform="translate(993.78125,303.5 )"><rect x="0" y="0" width="57.421875" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">cppQueue</tspan></text><line x1="0" y1="21" y2="21" x2="57.421875"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="57.421875"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-m_NoteData-8" class="classGroup" transform="translate(1101.203125,278 )"><rect x="0" y="0" width="110.59375" height="81" class=" "></rect><text y="15" x="0"><tspan x="34.109375">«private»</tspan><tspan class="title" dy="10" x="26.1796875">m_NoteData</tspan></text><line x1="0" y1="31" y2="31" x2="110.59375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+uint8_t note</tspan><tspan x="5" dy="10">+uint8_t octave</tspan><tspan x="5" dy="10">+uint16_t playTime</tspan><tspan x="5" dy="10">+uint16_t nextTime</tspan></text><line x1="0" y1="77" y2="77" x2="110.59375"></line><text x="5" y="92" fill="white" class="classText"></text></g><path d="M162.28500715648855,347L151.01745388040712,353.1666666666667C139.7499006043257,359.3333333333333,117.21479405216284,371.6666666666667,105.94724077608141,385.4166666666667C94.6796875,399.1666666666667,94.6796875,414.3333333333333,94.6796875,421.9166666666667L94.6796875,429.5" id="edge0" class="relation" marker-start="url(#extensionStart)"></path><path d="M266.4337428435115,347L277.7012961195929,353.1666666666667C288.96884939567434,359.3333333333333,311.50395594783714,371.6666666666667,322.7715092239186,385.4166666666667C334.0390625,399.1666666666667,334.0390625,414.3333333333333,334.0390625,421.9166666666667L334.0390625,429.5" id="edge1" class="relation" marker-start="url(#extensionStart)"></path><path d="M709.2841125954199,352L695.3044688295166,357.3333333333333C681.3248250636133,362.6666666666667,653.3655375318066,373.3333333333333,639.3858937659033,383.6666666666667C625.40625,394,625.40625,404,625.40625,409L625.40625,414" id="edge2" class="relation" marker-start="url(#extensionStart)"></path><path d="M884.9033874045801,352L898.8830311704834,357.3333333333333C912.8626749363867,362.6666666666667,940.8219624681933,373.3333333333333,954.8016062340967,382.8333333333333C968.78125,392.3333333333333,968.78125,400.6666666666667,968.78125,404.8333333333333L968.78125,409" id="edge3" class="relation" marker-start="url(#extensionStart)"></path><path d="M721.73046875,151.58904909819077L637.1686197916666,168.4908742484923C552.6067708333334,185.39269939879387,383.4830729166667,219.19634969939693,298.9212239583333,242.26484151636512C214.359375,265.3333333333333,214.359375,277.6666666666667,214.359375,283.8333333333333L214.359375,290" id="edge4" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="708.4929236626998" y="149.13601015400468" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="224.359375" y="277.5" fill="black" font-size="6">1</text></g><path d="M817.363393660072,228L813.9851197167267,232.16666666666666C810.6068457733813,236.33333333333334,803.8502978866906,244.66666666666666,800.4720239433453,254.16666666666666C797.09375,263.6666666666667,797.09375,274.3333333333333,797.09375,279.6666666666667L797.09375,285" id="edge5" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="805.6071896496213" y="234.560614854163" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="807.09375" y="272.5" fill="black" font-size="6">1</text></g><path d="M1002.222543839928,228L1005.6008177832733,232.16666666666666C1008.9790917266187,236.33333333333334,1015.7356396133094,244.66666666666666,1019.1139135566547,257.25C1022.4921875,269.8333333333333,1022.4921875,286.6666666666667,1022.4921875,295.0833333333333L1022.4921875,303.5" id="edge6" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="1006.2110951204867" y="240.85851697056674" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1032.4921875" y="291" fill="black" font-size="6">1</text></g><path d="M1097.85546875,219.95842107763195L1107.6295572916667,225.46535089802663C1117.4036458333333,230.9722807184213,1136.9518229166667,241.98614035921068,1146.7259114583333,251.659736846272C1156.5,261.3333333333333,1156.5,269.6666666666667,1156.5,273.8333333333333L1156.5,278" id="edge7" class="relation dashed-line" marker-start="url(#compositionStart)"></path><g class="cardinality"><text class="type1" x="1103.8371642859472" y="234.80663034727888" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1161.5" y="265.5" fill="black" font-size="6">0..*</text></g></svg>