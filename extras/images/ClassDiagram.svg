<svg id="mermaid-1634735549091" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="583" style="max-width: 1376.4765625px;" viewBox="-20 -20 1376.4765625 583"><style>#mermaid-1634735549091{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1634735549091 .error-icon{fill:#552222;}#mermaid-1634735549091 .error-text{fill:#552222;stroke:#552222;}#mermaid-1634735549091 .edge-thickness-normal{stroke-width:2px;}#mermaid-1634735549091 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1634735549091 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1634735549091 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1634735549091 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1634735549091 .marker{fill:#333333;stroke:#333333;}#mermaid-1634735549091 .marker.cross{stroke:#333333;}#mermaid-1634735549091 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1634735549091 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-1634735549091 g.classGroup text .title{font-weight:bolder;}#mermaid-1634735549091 .classTitle{font-weight:bolder;}#mermaid-1634735549091 .node rect,#mermaid-1634735549091 .node circle,#mermaid-1634735549091 .node ellipse,#mermaid-1634735549091 .node polygon,#mermaid-1634735549091 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1634735549091 .divider{stroke:#9370DB;stroke:1;}#mermaid-1634735549091 g.clickable{cursor:pointer;}#mermaid-1634735549091 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1634735549091 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1634735549091 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1634735549091 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1634735549091 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1634735549091 .dashed-line{stroke-dasharray:3;}#mermaid-1634735549091 #compositionStart,#mermaid-1634735549091 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #compositionEnd,#mermaid-1634735549091 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #dependencyStart,#mermaid-1634735549091 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #dependencyStart,#mermaid-1634735549091 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #extensionStart,#mermaid-1634735549091 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #extensionEnd,#mermaid-1634735549091 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #aggregationStart,#mermaid-1634735549091 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 #aggregationEnd,#mermaid-1634735549091 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1634735549091 .edgeTerminals{font-size:11px;}#mermaid-1634735549091:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g id="classid-BaseTuneLoader-0" class="classGroup" transform="translate(117.3125,333 )"><rect x="0" y="0" width="186.625" height="57" class=" "></rect><text y="15" x="0"><tspan x="69.7421875">«abstract»</tspan><tspan class="title" dy="10" x="53.0546875">BaseTuneLoader</tspan></text><line x1="0" y1="31" y2="31" x2="186.625"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="186.625"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5" style="font-style:italic;">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-FlashTuneLoader-1" class="classGroup" transform="translate(0,470.5 )"><rect x="0" y="0" width="185.625" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="51.453125">FlashTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="185.625"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="185.625"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setTune(uint16_t *tune)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-EEPROMTuneLoader-2" class="classGroup" transform="translate(235.625,470.5 )"><rect x="0" y="0" width="185.625" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="42.84375">EEPROMTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="185.625"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="185.625"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setStart(uint16_t start)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-SoundGenerator-3" class="classGroup" transform="translate(637.5390625,318 )"><rect x="0" y="0" width="282.578125" height="87" class=" "></rect><text y="15" x="0"><tspan x="119.109375">«absract»</tspan><tspan class="title" dy="10" x="101.78125">SoundGenerator</tspan></text><line x1="0" y1="31" y2="31" x2="282.578125"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="282.578125"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5">+begin()</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t midiNote)</tspan></text></g><g id="classid-ToneSound-4" class="classGroup" transform="translate(471.25,455 )"><rect x="0" y="0" width="282.578125" height="88" class=" "></rect><text y="15" x="0"><tspan class="title" x="114.1640625">ToneSound</tspan></text><line x1="0" y1="21" y2="21" x2="282.578125"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">-m_pin</tspan></text><line x1="0" y1="37" y2="37" x2="282.578125"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+ToneSound(uint8_t pin)</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_frequency(uint8_t note, uint8_t octave) : uint16_t</tspan></text></g><g id="classid-TimerOneSound-5" class="classGroup" transform="translate(803.828125,455.5 )"><rect x="0" y="0" width="282.578125" height="87" class=" "></rect><text y="15" x="0"><tspan class="title" x="102.484375">TimerOneSound</tspan></text><line x1="0" y1="21" y2="21" x2="282.578125"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="282.578125"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t note)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_counterTop(uint8_t note, uint8_t octave) : uint16_t</tspan><tspan x="5" dy="10">-m_compareValue(uint16_t counter) : uint16_t</tspan></text></g><g id="classid-TunePlayer-6" class="classGroup" transform="translate(806.8359375,0 )"><rect x="0" y="0" width="385.90625" height="268" class=" "></rect><text y="15" x="0"><tspan class="title" x="166.3125">TunePlayer</tspan></text><line x1="0" y1="21" y2="21" x2="385.90625"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">+BaseTuneLoader tuneLoader</tspan><tspan x="5" dy="10">+SoundGenerator soundGenerator</tspan><tspan x="5" dy="10">-Queue&lt;NoteData&gt; m_notesQueue</tspan><tspan x="5" dy="10">-Queue&lt;RepeatData&gt; m_repeatsStack</tspan><tspan x="5" dy="10">-uint16_t m_noteAddress</tspan><tspan x="5" dy="10">-uint32_t m_timebase</tspan><tspan x="5" dy="10">-uint32_t m_nextNoteTime</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStart</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStop</tspan><tspan x="5" dy="10">-bool m_isPlaying</tspan></text><line x1="0" y1="127" y2="127" x2="385.90625"></line><text x="5" y="142" fill="white" class="classText"><tspan x="5">+TunePlayer()</tspan><tspan x="5" dy="10">+begin(BaseTuneLoader *newTuneSource, SoundGenerator *newSoundGenerator)</tspan><tspan x="5" dy="10">+begin()</tspan><tspan x="5" dy="10">+spool()</tspan><tspan x="5" dy="10">+play()</tspan><tspan x="5" dy="10">+pause()</tspan><tspan x="5" dy="10">+stop()</tspan><tspan x="5" dy="10">+update()</tspan><tspan x="5" dy="10">+updateLowPriority()</tspan><tspan x="5" dy="10">+updateHighPriority()</tspan><tspan x="5" dy="10">+isPlaying() : bool</tspan><tspan x="5" dy="10">-m_makeNoise()</tspan><tspan x="5" dy="10">-m_executeRepeat(uint16_t rawNote)</tspan></text></g><g id="classid-cppQueue-7" class="classGroup" transform="translate(970.1171875,346.5 )"><rect x="0" y="0" width="59.34375" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">cppQueue</tspan></text><line x1="0" y1="21" y2="21" x2="59.34375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="59.34375"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-NoteData-8" class="classGroup" transform="translate(1079.4609375,321 )"><rect x="0" y="0" width="100.40625" height="81" class=" "></rect><text y="15" x="0"><tspan x="29.4140625">«private»</tspan><tspan class="title" dy="10" x="28.03125">NoteData</tspan></text><line x1="0" y1="31" y2="31" x2="100.40625"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+uint8_t note</tspan><tspan x="5" dy="10">+uint8_t octave</tspan><tspan x="5" dy="10">+uint32_t playTime</tspan><tspan x="5" dy="10">+uint32_t nextTime</tspan></text><line x1="0" y1="77" y2="77" x2="100.40625"></line><text x="5" y="92" fill="white" class="classText"></text></g><g id="classid-RepeatData-9" class="classGroup" transform="translate(1229.8671875,331 )"><rect x="0" y="0" width="106.609375" height="61" class=" "></rect><text y="15" x="0"><tspan x="32.515625">«private»</tspan><tspan class="title" dy="10" x="25.5625">RepeatData</tspan></text><line x1="0" y1="31" y2="31" x2="106.609375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+uint16_t index</tspan><tspan x="5" dy="10">+uint8_t count</tspan></text><line x1="0" y1="57" y2="57" x2="106.609375"></line><text x="5" y="72" fill="white" class="classText"></text></g><path d="M161.6081204379562,390L150.1421836982968,396.6666666666667C138.67624695863745,403.3333333333333,115.74437347931872,416.6666666666667,104.27843673965936,430.0833333333333C92.8125,443.5,92.8125,457,92.8125,463.75L92.8125,470.5" id="edge0" class="relation" marker-start="url(#extensionStart)"></path><path d="M259.6418795620438,390L271.10781630170317,396.6666666666667C282.5737530413625,403.3333333333333,305.5056265206813,416.6666666666667,316.97156326034064,430.0833333333333C328.4375,443.5,328.4375,457,328.4375,463.75L328.4375,470.5" id="edge1" class="relation" marker-start="url(#extensionStart)"></path><path d="M673.2285013686131,405L663.113594890511,409.1666666666667C652.9986884124088,413.3333333333333,632.7688754562045,421.6666666666667,622.6539689781022,430C612.5390625,438.3333333333333,612.5390625,446.6666666666667,612.5390625,450.8333333333333L612.5390625,455" id="edge2" class="relation" marker-start="url(#extensionStart)"></path><path d="M884.4277486313869,405L894.5426551094891,409.1666666666667C904.6575615875912,413.3333333333333,924.8873745437955,421.6666666666667,935.0022810218978,430.0833333333333C945.1171875,438.5,945.1171875,447,945.1171875,451.25L945.1171875,455.5" id="edge3" class="relation" marker-start="url(#extensionStart)"></path><path d="M806.8359375,172.8760060586261L707.4674479166666,192.89667171552173C608.0989583333334,212.9173373724174,409.3619791666667,252.9586686862087,309.9934895833333,279.646001009771C210.625,306.3333333333333,210.625,319.6666666666667,210.625,326.3333333333333L210.625,333" id="edge4" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="793.5946264633396" y="170.44337743295884" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="220.625" y="320.5" fill="black" font-size="6">1</text></g><path d="M813.5704107704403,268L807.7800298087003,272.1666666666667C801.9896488469602,276.3333333333333,790.4088869234802,284.6666666666667,784.6185059617401,293C778.828125,301.3333333333333,778.828125,309.6666666666667,778.828125,313.8333333333333L778.828125,318" id="edge5" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="800.5038192681525" y="271.2425586366848" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="788.828125" y="305.5" fill="black" font-size="6">1</text></g><path d="M999.7890625,268L999.7890625,272.1666666666667C999.7890625,276.3333333333333,999.7890625,284.6666666666667,999.7890625,297.75C999.7890625,310.8333333333333,999.7890625,328.6666666666667,999.7890625,337.5833333333333L999.7890625,346.5" id="edge6" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="994.7890625" y="280.5" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1009.7890625" y="334" fill="black" font-size="6">1</text></g><path d="M1109.2434650157234,268L1112.6468979297695,272.1666666666667C1116.0503308438156,276.3333333333333,1122.8571966719078,284.6666666666667,1126.260629585954,293.5C1129.6640625,302.3333333333333,1129.6640625,311.6666666666667,1129.6640625,316.3333333333333L1129.6640625,321" id="edge7" class="relation dashed-line" marker-start="url(#compositionStart)"></path><g class="cardinality"><text class="type1" x="1109.4063356010615" y="284.0069820132476" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1134.6640625" y="308.5" fill="black" font-size="6">0..*</text></g><path d="M1192.7421875,242.2618476552808L1207.8138020833333,250.71820637940064C1222.8854166666667,259.17456510352054,1253.0286458333333,276.08728255176027,1268.1002604166667,290.87697460921345C1283.171875,305.6666666666667,1283.171875,318.3333333333333,1283.171875,324.6666666666667L1283.171875,331" id="edge8" class="relation dashed-line" marker-start="url(#compositionStart)"></path><g class="cardinality"><text class="type1" x="1198.7503047625073" y="257.0993854213646" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1288.171875" y="318.5" fill="black" font-size="6">0..*</text></g></svg>