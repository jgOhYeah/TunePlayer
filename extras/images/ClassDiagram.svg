<svg id="mermaid-1628563388161" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="573" style="max-width: 1251.796875px;" viewBox="-20 -20 1251.796875 573"><style>#mermaid-1628563388161{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1628563388161 .error-icon{fill:#552222;}#mermaid-1628563388161 .error-text{fill:#552222;stroke:#552222;}#mermaid-1628563388161 .edge-thickness-normal{stroke-width:2px;}#mermaid-1628563388161 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1628563388161 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1628563388161 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1628563388161 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1628563388161 .marker{fill:#333333;stroke:#333333;}#mermaid-1628563388161 .marker.cross{stroke:#333333;}#mermaid-1628563388161 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1628563388161 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-1628563388161 g.classGroup text .title{font-weight:bolder;}#mermaid-1628563388161 .classTitle{font-weight:bolder;}#mermaid-1628563388161 .node rect,#mermaid-1628563388161 .node circle,#mermaid-1628563388161 .node ellipse,#mermaid-1628563388161 .node polygon,#mermaid-1628563388161 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1628563388161 .divider{stroke:#9370DB;stroke:1;}#mermaid-1628563388161 g.clickable{cursor:pointer;}#mermaid-1628563388161 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1628563388161 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1628563388161 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1628563388161 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1628563388161 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1628563388161 .dashed-line{stroke-dasharray:3;}#mermaid-1628563388161 #compositionStart,#mermaid-1628563388161 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #compositionEnd,#mermaid-1628563388161 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #dependencyStart,#mermaid-1628563388161 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #dependencyStart,#mermaid-1628563388161 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #extensionStart,#mermaid-1628563388161 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #extensionEnd,#mermaid-1628563388161 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #aggregationStart,#mermaid-1628563388161 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 #aggregationEnd,#mermaid-1628563388161 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1628563388161 .edgeTerminals{font-size:11px;}#mermaid-1628563388161:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g id="classid-BaseTuneLoader-0" class="classGroup" transform="translate(118.2109375,323 )"><rect x="0" y="0" width="192.296875" height="57" class=" "></rect><text y="15" x="0"><tspan x="72.453125">«abstract»</tspan><tspan class="title" dy="10" x="57.5546875">BaseTuneLoader</tspan></text><line x1="0" y1="31" y2="31" x2="192.296875"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="192.296875"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5" style="font-style:italic;">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-FlashTuneLoader-1" class="classGroup" transform="translate(0,460.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="54.5859375">FlashTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setTune(uint16_t *tune)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-EEPROMTuneLoader-2" class="classGroup" transform="translate(239.359375,460.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="47.8359375">EEPROMTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setStart(uint16_t start)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-SoundGenerator-3" class="classGroup" transform="translate(650.40625,308 )"><rect x="0" y="0" width="293.375" height="87" class=" "></rect><text y="15" x="0"><tspan x="124.9765625">«absract»</tspan><tspan class="title" dy="10" x="108.4765625">SoundGenerator</tspan></text><line x1="0" y1="31" y2="31" x2="293.375"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="293.375"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5">+begin()</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t midiNote)</tspan></text></g><g id="classid-ToneSound-4" class="classGroup" transform="translate(478.71875,445 )"><rect x="0" y="0" width="293.375" height="88" class=" "></rect><text y="15" x="0"><tspan class="title" x="121.3203125">ToneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">-m_pin</tspan></text><line x1="0" y1="37" y2="37" x2="293.375"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+ToneSound(uint8_t pin)</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_frequency(uint8_t note, uint8_t octave) : uint16_t</tspan></text></g><g id="classid-TimerOneSound-5" class="classGroup" transform="translate(822.09375,445.5 )"><rect x="0" y="0" width="293.375" height="87" class=" "></rect><text y="15" x="0"><tspan class="title" x="109.3828125">TimerOneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="293.375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t note)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_counterTop(uint8_t note, uint8_t octave) : uint16_t</tspan><tspan x="5" dy="10">-m_compareValue(uint16_t counter) : uint16_t</tspan></text></g><g id="classid-TunePlayer-6" class="classGroup" transform="translate(721.73046875,0 )"><rect x="0" y="0" width="376.125" height="258" class=" "></rect><text y="15" x="0"><tspan class="title" x="161.5546875">TunePlayer</tspan></text><line x1="0" y1="21" y2="21" x2="376.125"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">+BaseTuneLoader tuneLoader</tspan><tspan x="5" dy="10">+SoundGenerator soundGenerator</tspan><tspan x="5" dy="10">-Queue&lt;_NoteData&gt; m_notesQueue</tspan><tspan x="5" dy="10">-Queue&lt;uint16_t&gt; m_repeatsStack</tspan><tspan x="5" dy="10">-uint16_t m_noteAddress</tspan><tspan x="5" dy="10">-uint32_t m_timebase</tspan><tspan x="5" dy="10">-uint32_t m_nextNoteTime</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStart</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStop</tspan><tspan x="5" dy="10">-bool m_isPlaying</tspan></text><line x1="0" y1="127" y2="127" x2="376.125"></line><text x="5" y="142" fill="white" class="classText"><tspan x="5">+TunePlayer()</tspan><tspan x="5" dy="10">+begin(BaseTuneLoader *newTuneSource, SoundGenerator *newSoundGenerator)</tspan><tspan x="5" dy="10">+begin()</tspan><tspan x="5" dy="10">+spool()</tspan><tspan x="5" dy="10">+play()</tspan><tspan x="5" dy="10">+pause()</tspan><tspan x="5" dy="10">+stop()</tspan><tspan x="5" dy="10">+update()</tspan><tspan x="5" dy="10">+updateLowPriority()</tspan><tspan x="5" dy="10">+updateHighPriority()</tspan><tspan x="5" dy="10">+isPlaying() : bool</tspan><tspan x="5" dy="10">-m_makeNoise()</tspan></text></g><g id="classid-cppQueue-7" class="classGroup" transform="translate(993.78125,336.5 )"><rect x="0" y="0" width="57.421875" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">cppQueue</tspan></text><line x1="0" y1="21" y2="21" x2="57.421875"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="57.421875"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-m_NoteData-8" class="classGroup" transform="translate(1101.203125,311 )"><rect x="0" y="0" width="110.59375" height="81" class=" "></rect><text y="15" x="0"><tspan x="34.109375">«private»</tspan><tspan class="title" dy="10" x="26.1796875">m_NoteData</tspan></text><line x1="0" y1="31" y2="31" x2="110.59375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+uint8_t note</tspan><tspan x="5" dy="10">+uint8_t octave</tspan><tspan x="5" dy="10">+uint32_t playTime</tspan><tspan x="5" dy="10">+uint32_t nextTime</tspan></text><line x1="0" y1="77" y2="77" x2="110.59375"></line><text x="5" y="92" fill="white" class="classText"></text></g><path d="M164.5656364051095,380L152.91797825425792,386.6666666666667C141.27032010340633,393.3333333333333,117.97500380170317,406.6666666666667,106.32734565085157,420.0833333333333C94.6796875,433.5,94.6796875,447,94.6796875,453.75L94.6796875,460.5" id="edge0" class="relation" marker-start="url(#extensionStart)"></path><path d="M264.1531135948905,380L275.8007717457421,386.6666666666667C287.44842989659367,393.3333333333333,310.74374619829683,406.6666666666667,322.39140434914844,420.0833333333333C334.0390625,433.5,334.0390625,447,334.0390625,453.75L334.0390625,460.5" id="edge1" class="relation" marker-start="url(#extensionStart)"></path><path d="M688.0659215328467,395L677.622642944039,399.1666666666667C667.1793643552311,403.3333333333333,646.2928071776156,411.6666666666667,635.8495285888079,420C625.40625,428.3333333333333,625.40625,436.6666666666667,625.40625,440.8333333333333L625.40625,445" id="edge2" class="relation" marker-start="url(#extensionStart)"></path><path d="M906.1215784671533,395L916.564857055961,399.1666666666667C927.0081356447689,403.3333333333333,947.8946928223844,411.6666666666667,958.3379714111921,420.0833333333333C968.78125,428.5,968.78125,437,968.78125,441.25L968.78125,445.5" id="edge3" class="relation" marker-start="url(#extensionStart)"></path><path d="M721.73046875,170.6454213030315L637.1686197916666,189.37118441919293C552.6067708333334,208.09694753535436,383.4830729166667,245.54847376767717,298.9212239583333,270.94090355050525C214.359375,296.3333333333333,214.359375,309.6666666666667,214.359375,316.3333333333333L214.359375,323" id="edge4" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="708.4450896799647" y="168.46626941170652" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="224.359375" y="310.5" fill="black" font-size="6">1</text></g><path d="M815.3890777191558,258L812.3398564326299,262.1666666666667C809.2906351461039,266.3333333333333,803.192192573052,274.6666666666667,800.142971286526,283C797.09375,291.3333333333333,797.09375,299.6666666666667,797.09375,303.8333333333333L797.09375,308" id="edge5" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="803.9720595751235" y="265.13454250101836" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="807.09375" y="295.5" fill="black" font-size="6">1</text></g><path d="M1004.1968597808442,258L1007.2460810673701,262.1666666666667C1010.2953023538961,266.3333333333333,1016.393744926948,274.6666666666667,1019.442966213474,287.75C1022.4921875,300.8333333333333,1022.4921875,318.6666666666667,1022.4921875,327.5833333333333L1022.4921875,336.5" id="edge6" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="1007.5439815396135" y="271.04019846213896" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1032.4921875" y="324" fill="black" font-size="6">1</text></g><path d="M1097.85546875,246.39278306442674L1107.6295572916667,252.4939858870223C1117.4036458333333,258.59518870961784,1136.9518229166667,270.79759435480895,1146.7259114583333,281.56546384407113C1156.5,292.3333333333333,1156.5,301.6666666666667,1156.5,306.3333333333333L1156.5,311" id="edge7" class="relation dashed-line" marker-start="url(#compositionStart)"></path><g class="cardinality"><text class="type1" x="1103.1639089932808" y="261.49478499077804" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1161.5" y="298.5" fill="black" font-size="6">0..*</text></g></svg>