<svg id="mermaid-1625314840844" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="563" style="max-width: 1251.796875px;" viewBox="-20 -20 1251.796875 563"><style>#mermaid-1625314840844{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1625314840844 .error-icon{fill:#552222;}#mermaid-1625314840844 .error-text{fill:#552222;stroke:#552222;}#mermaid-1625314840844 .edge-thickness-normal{stroke-width:2px;}#mermaid-1625314840844 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1625314840844 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1625314840844 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1625314840844 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1625314840844 .marker{fill:#333333;stroke:#333333;}#mermaid-1625314840844 .marker.cross{stroke:#333333;}#mermaid-1625314840844 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-1625314840844 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-1625314840844 g.classGroup text .title{font-weight:bolder;}#mermaid-1625314840844 .classTitle{font-weight:bolder;}#mermaid-1625314840844 .node rect,#mermaid-1625314840844 .node circle,#mermaid-1625314840844 .node ellipse,#mermaid-1625314840844 .node polygon,#mermaid-1625314840844 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1625314840844 .divider{stroke:#9370DB;stroke:1;}#mermaid-1625314840844 g.clickable{cursor:pointer;}#mermaid-1625314840844 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-1625314840844 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-1625314840844 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-1625314840844 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-1625314840844 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-1625314840844 .dashed-line{stroke-dasharray:3;}#mermaid-1625314840844 #compositionStart,#mermaid-1625314840844 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #compositionEnd,#mermaid-1625314840844 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #dependencyStart,#mermaid-1625314840844 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #dependencyStart,#mermaid-1625314840844 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #extensionStart,#mermaid-1625314840844 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #extensionEnd,#mermaid-1625314840844 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #aggregationStart,#mermaid-1625314840844 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 #aggregationEnd,#mermaid-1625314840844 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-1625314840844 .edgeTerminals{font-size:11px;}#mermaid-1625314840844:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g id="classid-BaseTuneLoader-0" class="classGroup" transform="translate(118.2109375,313 )"><rect x="0" y="0" width="192.296875" height="57" class=" "></rect><text y="15" x="0"><tspan x="72.453125">«abstract»</tspan><tspan class="title" dy="10" x="57.5546875">BaseTuneLoader</tspan></text><line x1="0" y1="31" y2="31" x2="192.296875"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="192.296875"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5" style="font-style:italic;">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-FlashTuneLoader-1" class="classGroup" transform="translate(0,450.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="54.5859375">FlashTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setTune(uint16_t *tune)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-EEPROMTuneLoader-2" class="classGroup" transform="translate(239.359375,450.5 )"><rect x="0" y="0" width="189.359375" height="57" class=" "></rect><text y="15" x="0"><tspan class="title" x="47.8359375">EEPROMTuneLoader</tspan></text><line x1="0" y1="21" y2="21" x2="189.359375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="189.359375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+setStart(uint16_t start)</tspan><tspan x="5" dy="10">+loadNote(uint16_t address) : uint16_t</tspan></text></g><g id="classid-SoundGenerator-3" class="classGroup" transform="translate(650.40625,298 )"><rect x="0" y="0" width="293.375" height="87" class=" "></rect><text y="15" x="0"><tspan x="124.9765625">«absract»</tspan><tspan class="title" dy="10" x="108.4765625">SoundGenerator</tspan></text><line x1="0" y1="31" y2="31" x2="293.375"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="293.375"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5">+begin()</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t midiNote)</tspan></text></g><g id="classid-ToneSound-4" class="classGroup" transform="translate(478.71875,435 )"><rect x="0" y="0" width="293.375" height="88" class=" "></rect><text y="15" x="0"><tspan class="title" x="121.3203125">ToneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">-m_pin</tspan></text><line x1="0" y1="37" y2="37" x2="293.375"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+ToneSound(uint8_t pin)</tspan><tspan x="5" dy="10">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_frequency(uint8_t note, uint8_t octave) : uint16_t</tspan></text></g><g id="classid-TimerOneSound-5" class="classGroup" transform="translate(822.09375,435.5 )"><rect x="0" y="0" width="293.375" height="87" class=" "></rect><text y="15" x="0"><tspan class="title" x="109.3828125">TimerOneSound</tspan></text><line x1="0" y1="21" y2="21" x2="293.375"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="293.375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+playNote(uint8_t note, uint8_t octave, uint32_t playTime=0)</tspan><tspan x="5" dy="10">+playMidiNote(uint8_t note)</tspan><tspan x="5" dy="10">+stopSound()</tspan><tspan x="5" dy="10">-m_counterTop(uint8_t note, uint8_t octave) : uint16_t</tspan><tspan x="5" dy="10">-m_compareValue(uint16_t counter) : uint16_t</tspan></text></g><g id="classid-TunePlayer-6" class="classGroup" transform="translate(721.73046875,0 )"><rect x="0" y="0" width="376.125" height="248" class=" "></rect><text y="15" x="0"><tspan class="title" x="161.5546875">TunePlayer</tspan></text><line x1="0" y1="21" y2="21" x2="376.125"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">+BaseTuneLoader tuneLoader</tspan><tspan x="5" dy="10">+SoundGenerator soundGenerator</tspan><tspan x="5" dy="10">+bool isPlaying</tspan><tspan x="5" dy="10">-Queue&lt;_NoteData&gt; m_notesQueue</tspan><tspan x="5" dy="10">-Queue&lt;uint16_t&gt; m_repeatsStack</tspan><tspan x="5" dy="10">-uint16_t m_noteAddress</tspan><tspan x="5" dy="10">-uint32_t m_timebase</tspan><tspan x="5" dy="10">-uint32_t m_nextNoteTime</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStart</tspan><tspan x="5" dy="10">-uint32_t m_curNoteStop</tspan></text><line x1="0" y1="127" y2="127" x2="376.125"></line><text x="5" y="142" fill="white" class="classText"><tspan x="5">+TunePlayer()</tspan><tspan x="5" dy="10">+begin(BaseTuneLoader *newTuneSource, SoundGenerator *newSoundGenerator)</tspan><tspan x="5" dy="10">+begin()</tspan><tspan x="5" dy="10">+spool()</tspan><tspan x="5" dy="10">+play()</tspan><tspan x="5" dy="10">+pause()</tspan><tspan x="5" dy="10">+stop()</tspan><tspan x="5" dy="10">+update()</tspan><tspan x="5" dy="10">+updateLowPriority()</tspan><tspan x="5" dy="10">+updateHighPriority()</tspan><tspan x="5" dy="10">-m_makeNoise()</tspan></text></g><g id="classid-cppQueue-7" class="classGroup" transform="translate(993.78125,326.5 )"><rect x="0" y="0" width="57.421875" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">cppQueue</tspan></text><line x1="0" y1="21" y2="21" x2="57.421875"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="57.421875"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-m_NoteData-8" class="classGroup" transform="translate(1101.203125,301 )"><rect x="0" y="0" width="110.59375" height="81" class=" "></rect><text y="15" x="0"><tspan x="34.109375">«private»</tspan><tspan class="title" dy="10" x="26.1796875">m_NoteData</tspan></text><line x1="0" y1="31" y2="31" x2="110.59375"></line><text x="5" y="41" fill="white" class="classText"><tspan x="5">+uint8_t note</tspan><tspan x="5" dy="10">+uint8_t octave</tspan><tspan x="5" dy="10">+uint32_t playTime</tspan><tspan x="5" dy="10">+uint32_t nextTime</tspan></text><line x1="0" y1="77" y2="77" x2="110.59375"></line><text x="5" y="92" fill="white" class="classText"></text></g><path d="M164.5656364051095,370L152.91797825425792,376.6666666666667C141.27032010340633,383.3333333333333,117.97500380170317,396.6666666666667,106.32734565085157,410.0833333333333C94.6796875,423.5,94.6796875,437,94.6796875,443.75L94.6796875,450.5" id="edge0" class="relation" marker-start="url(#extensionStart)"></path><path d="M264.1531135948905,370L275.8007717457421,376.6666666666667C287.44842989659367,383.3333333333333,310.74374619829683,396.6666666666667,322.39140434914844,410.0833333333333C334.0390625,423.5,334.0390625,437,334.0390625,443.75L334.0390625,450.5" id="edge1" class="relation" marker-start="url(#extensionStart)"></path><path d="M688.0659215328467,385L677.622642944039,389.1666666666667C667.1793643552311,393.3333333333333,646.2928071776156,401.6666666666667,635.8495285888079,410C625.40625,418.3333333333333,625.40625,426.6666666666667,625.40625,430.8333333333333L625.40625,435" id="edge2" class="relation" marker-start="url(#extensionStart)"></path><path d="M906.1215784671533,385L916.564857055961,389.1666666666667C927.0081356447689,393.3333333333333,947.8946928223844,401.6666666666667,958.3379714111921,410.0833333333333C968.78125,418.5,968.78125,427,968.78125,431.25L968.78125,435.5" id="edge3" class="relation" marker-start="url(#extensionStart)"></path><path d="M721.73046875,164.29329723475126L637.1686197916666,182.4110810289594C552.6067708333334,200.5288648231675,383.4830729166667,236.76443241158373,298.9212239583333,261.54888287245853C214.359375,286.3333333333333,214.359375,299.6666666666667,214.359375,306.3333333333333L214.359375,313" id="edge4" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="708.4603601830274" y="162.02300680822805" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="224.359375" y="300.5" fill="black" font-size="6">1</text></g><path d="M816.0030148909395,248L812.8514707424496,252.16666666666666C809.6999265939597,256.3333333333333,803.3968382969798,264.6666666666667,800.2452941484898,273C797.09375,281.3333333333333,797.09375,289.6666666666667,797.09375,293.8333333333333L797.09375,298" id="edge5" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="804.474656865871" y="254.9531979150487" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="807.09375" y="285.5" fill="black" font-size="6">1</text></g><path d="M1003.5829226090605,248L1006.7344667575504,252.16666666666666C1009.8860109060403,256.3333333333333,1016.1890992030202,264.6666666666667,1019.3406433515102,277.75C1022.4921875,290.8333333333333,1022.4921875,308.6666666666667,1022.4921875,317.5833333333333L1022.4921875,326.5" id="edge6" class="relation" marker-end="url(#dependencyEnd)"></path><g class="cardinality"><text class="type1" x="1007.1357350306283" y="260.98566609370323" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1032.4921875" y="314" fill="black" font-size="6">1</text></g><path d="M1097.85546875,237.5813290688285L1107.6295572916667,243.4844408906904C1117.4036458333333,249.38755271255232,1136.9518229166667,261.19377635627615,1146.7259114583333,271.76355484480473C1156.5,282.3333333333333,1156.5,291.6666666666667,1156.5,296.3333333333333L1156.5,301" id="edge7" class="relation dashed-line" marker-start="url(#compositionStart)"></path><g class="cardinality"><text class="type1" x="1103.3855838854254" y="252.60357346135976" fill="black" font-size="6">1</text></g><g class="cardinality"><text class="type2" x="1161.5" y="288.5" fill="black" font-size="6">0..*</text></g></svg>